<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/app.f588656cc80a065e5f1e.css">code[class*=language-],pre[class*=language-]{color:#fff;background:none;text-shadow:0 -.1em .2em #000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}:not(pre)>code[class*=language-],pre[class*=language-]{background:#4d4033}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:.3em solid #7a6652;border-radius:.5em;box-shadow:inset 1px 1px .5em #000}:not(pre)>code[class*=language-]{padding:.15em .2em .05em;border-radius:.3em;border:.13em solid #7a6652;box-shadow:inset 1px 1px .3em -.1em #000;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#998066}.namespace,.token.punctuation{opacity:.7}.token.boolean,.token.constant,.token.number,.token.property,.token.symbol,.token.tag{color:#d1949e}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#bde052}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f5b83d}.token.atrule,.token.attr-value,.token.keyword{color:#d1949e}.token.important,.token.regex{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.deleted{color:red}</style><style data-href="/component---src-templates-content-template-js.3d0afa7b42228b6a3eb1.css">@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,500,600);@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400);.course{position:relative;width:100%}.course p{font-family:IBM Plex Sans,monospace}@media (min-width:640px){.course p{margin-left:1rem}}.course p:not(:last-of-type){margin-bottom:1rem}@media (min-width:640px){.course h1{margin-left:3rem}}.course h2,.course h3,.course h4{padding-bottom:2rem}@media (min-width:640px){.course h2,.course h3,.course h4,.course table{margin-left:1rem}}.course ul{font-family:IBM Plex Sans,monospace}@media (min-width:640px){.course ul{margin-left:2.2rem}}.course h2:not(:first-of-type){margin-top:2rem}.course pre{margin:2rem 0;background-color:#33332d;color:#fff}.course em{font-family:Courier;font-style:normal;background-color:hsla(0,0%,88.2%,.6);padding:1px 5px 2px}.course img{border:11px solid transparent}.course .banner,.course .container{position:static}.course .letter{width:4rem;height:4rem;border-width:5px;border-style:solid;border-radius:2.5rem;text-align:center;margin:1rem;line-height:1.3em;-webkit-transform:translate(-1rem);transform:translate(-1rem)}@media (min-width:640px){.course .letter{-webkit-transform:translate(-3rem,4.5rem);transform:translate(-3rem,4.5rem)}}.course .letter,.course h1{font-size:2.3rem;font-weight:700}.course-content a,.tasks a{border:0;border-bottom-width:2px;border-style:solid;padding:2px}.course-content{max-width:100%}.tasks a{border-color:#33332d!important}.tasks a:hover{background-color:#fff!important;color:#000!important}.gatsby-highlight-code-line{background-color:hsla(0,0%,88.2%,.3);display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:1em}code[class*=language-],pre[class*=language-]{text-shadow:none}.arrow-go-up{width:36px;height:36px;position:fixed;bottom:5%;right:5%;z-index:99999;cursor:pointer}@media (max-width:639px){.arrow-go-up{right:10%}}.part-main__banner{background-position:50%;background-size:50%;padding-bottom:10%;background-repeat:no-repeat}@media (max-width:639px){.part-main__banner{background-position:top;background-size:70%;padding-bottom:30%!important}}.arrow__container{position:relative}.arrow__container:not():first-child{background:none;background-color:none}@media (min-width:640px){.arrow__container:not():first-child{border-left:none}.arrow__container:not():first-child:before{content:"";background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NzcuMTc1IDQ3Ny4xNzUiPjxwYXRoIGQ9Ik0zNjAuNzMxIDIyOS4wNzVsLTIyNS4xLTIyNS4xYy01LjMtNS4zLTEzLjgtNS4zLTE5LjEgMHMtNS4zIDEzLjggMCAxOS4xbDIxNS41IDIxNS41LTIxNS41IDIxNS41Yy01LjMgNS4zLTUuMyAxMy44IDAgMTkuMSAyLjYgMi42IDYuMSA0IDkuNSA0IDMuNCAwIDYuOS0xLjMgOS41LTRsMjI1LjEtMjI1LjFjNS4zLTUuMiA1LjMtMTMuOC4xLTE5eiIvPjwvc3ZnPg==) no-repeat;background-size:contain;position:absolute;top:0;left:0;height:100%;width:100%}}.arrows--horizontal{display:flex;position:relative;margin:0;align-items:flex-start}.arrow__wrapper{display:flex;justify-content:flex-start;align-items:center;margin:0}.arrow__wrapper:first-of-type{border-right:none;z-index:20}.arrow__wrapper:nth-of-type(n+2){margin-left:-4rem;z-index:10}.arrow__wrapper:nth-of-type(n+2) .arrow__rectangle{border-left:none;padding-left:4rem}.arrow__wrapper:nth-of-type(3){z-index:5}.arrow__wrapper:hover .arrow__point,.arrow__wrapper:hover .arrow__rectangle,.arrow__wrapper:hover .arrow__rectangle>a{background-color:#33332d!important;color:#fff!important}.arrow__rectangle{padding:1rem;justify-content:center;align-items:center;border:2px solid #33332d;border-right:none;z-index:2;overflow:hidden;font-family:IBM Plex Sans,monospace;position:relative}@media (max-width:991px){.arrow__rectangle{font-size:1rem}}.arrow__rectangle .bold{font-weight:600}.arrow__rectangle--thick-border{border:3px solid #33332d;border-right:none}.arrow__point{padding:1.25rem;border:2px solid #33332d;border-bottom:none;border-left:none;-webkit-transform:translate(-1.3rem) rotate(45deg);transform:translate(-1.3rem) rotate(45deg);z-index:1;overflow:hidden}.arrow__point--thick-border{border:3px solid #33332d;border-bottom:none;border-left:none}.arrow__wrapper--stacked{display:flex;justify-content:flex-start;align-items:center;margin:auto auto auto 0}@media (max-width:639px){.arrow__wrapper--stacked .arrow__rectangle{border:none;background-color:transparent!important;padding:0;font-size:1rem;justify-content:unset}.arrow__wrapper--stacked .arrow__rectangle>p>span{border-bottom:1px solid #33332d;margin:auto}.arrow__wrapper--stacked .arrow__rectangle>p>span:hover{background-color:#fff!important;color:#000}.arrow__wrapper--stacked .arrow__point{display:none}}.arrow__wrapper--stacked:nth-of-type(n+2){margin-top:1rem}@media (min-width:640px){.arrow__wrapper--stacked:nth-of-type(n+2){margin-top:-2px}}.arrow__wrapper--stacked .arrow__rectangle{position:relative}@media (min-width:640px){.arrow__wrapper--stacked .arrow__rectangle{padding:1.25rem}}@media (min-width:992px){.arrow__wrapper--stacked .arrow__rectangle{padding:1rem}}.arrow__wrapper--stacked .arrow__point{padding:1.08rem;margin-left:2px}@media (min-width:640px){.arrow__wrapper--stacked .arrow__point{margin-left:unset;padding:1.25rem}}@media (min-width:640px){.arrow__wrapper--stacked:hover .arrow__point,.arrow__wrapper--stacked:hover .arrow__rectangle{background-color:#33332d!important}}@media (min-width:640px){.arrow__wrapper--stacked:hover .arrow--stacked-letter,.arrow__wrapper--stacked:hover .arrow--stacked-title{color:#fff}}.arrow--stacked-title{font-family:IBM Plex Mono,monospace}@media (min-width:640px){.arrow--stacked-title{white-space:nowrap}}.arrow__container--with-link{width:100%!important}@media (max-width:639px){.breadcrumb .arrow__wrapper{display:none}}.breadcrumb .arrow__wrapper:hover .arrow__point,.breadcrumb .arrow__wrapper:hover .arrow__rectangle{background-color:#33332d!important}.breadcrumb .arrow__wrapper:hover .arrow--stacked-letter,.breadcrumb .arrow__wrapper:hover .arrow--stacked-title{color:#fff}.breadcrumb .arrow__rectangle{position:relative}@media (max-width:639px){.breadcrumb .arrow__rectangle{border:none;padding:0;font-size:.7rem;white-space:nowrap;background-color:transparent!important;color:#33332d}}@media (max-width:639px){.breadcrumb .arrow__point{display:none}}.element--flex{display:flex;flex-wrap:wrap}.element--space-around{justify-content:space-around}.element--space-between{justify-content:space-between}.element--column{flex-direction:column}.element--centered{align-items:center;justify-content:center!important}@media (min-width:992px){.element--centered-in-desktop{align-items:center;justify-content:center!important}}@media (min-width:992px){.element--horizontal-half{width:45%}}.element--auto-margin{margin:auto}.element--auto-bottom-margin{margin-bottom:auto}.element--flex-start{align-content:flex-start}.element--no-wrap{flex-wrap:nowrap}.element--relative{position:relative!important}.banner{display:flex;width:100%;align-items:center;position:relative;padding:2rem 0;background-color:#e1e1e1}@media (min-width:992px){.banner{padding:3.444rem 3.444rem 4.444rem}}.edit-link>span{border-bottom-width:3px;border-bottom-style:solid;border-bottom-color:inherit}#footer{margin-top:auto}@media (min-width:992px){#footer{align-items:center}}#footer a:hover{background-color:transparent!important}#footer .footer__navigation{display:none}@media (max-width:1199px){#footer .footer__navigation{width:100%;display:block}#footer .footer__navigation-link-container{display:flex;flex-direction:column}}#footer .footer__navigation-link{font-size:1rem;line-height:18px;white-space:nowrap;font-family:IBM Plex Sans,monospace;margin-left:0!important;margin-right:auto}@media (max-width:639px){#footer .footer__navigation-link{line-height:8px}}#footer .footer__navigation-link:hover{color:#fff!important;background-color:#33332d!important}#footer .footer__navigation-link:nth-of-type(n+2){margin-top:2.142rem}@media (min-width:1200px){#footer .footer__navigation{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end}#footer .footer__navigation-link{margin-top:0!important;margin-bottom:auto}#footer .footer__navigation-link:nth-of-type(n+1){margin-right:2.877rem}#footer .footer__navigation-link:last-of-type{margin-right:0!important}}.image__content{position:absolute;top:0;left:0;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.image--contain .image__content{-o-object-fit:contain;object-fit:contain}.image{overflow:hidden;width:100%;position:relative}@media (min-width:992px){.image{width:40%}}.image .image__container{height:0;position:relative;width:100%;padding-bottom:89.0625%}.image--circle{border-radius:50%}.image--circle .image__content{background-color:#e1e1e1}.image--square-big{width:100%}.image--square-big .image__container{width:100%;padding-bottom:100%}.image--extra-small{width:8%}.image--extra-small .image__container{width:100%;padding-bottom:100%}@media (max-width:639px){.image--extra-small{width:calc(33.33333% - 1rem)}}.image--small{width:15%}.image--small .image__container{width:100%;padding-bottom:100%}@media (max-width:639px){.image--small{width:calc(33.33333% - 1rem)}}.image--medium{width:50%}.image--medium .image__container{width:100%;padding-bottom:71.25%}.image--large{width:100%}@media (min-width:992px){.image--large{width:60%}}.image--large .image__container{padding-bottom:59.37%;width:100%}.image--full-width{width:100%}.image--full-width .image__container{padding-bottom:59.37%;width:100%}.image--actual-size{width:100%}.image--actual-size .image__container{height:0;position:relative;width:100%;padding-bottom:60%}.navigation{z-index:2;list-style:none;opacity:0;display:none;margin:0;padding:5%;flex-direction:column;justify-content:center;align-items:center;background:#e1e1e1;position:fixed;top:8%;right:5%;transition:opacity .3s ease-in-out;font-weight:200}@media (min-width:1200px){.navigation{display:flex;opacity:1;padding:0;font-weight:400;position:static;background:none;overflow:hidden;flex-direction:row}}@media (max-width:1199px){.navigation__wrapper .language-switcher{margin:20px 0 0}}@media (min-width:1200px){.navigation__wrapper{flex-grow:100}}.navigation__toggle{z-index:3;position:absolute;top:0;right:0;width:50px;height:40px;cursor:pointer;border:none;background:none;outline:none;border-radius:4px}@media (min-width:1200px){.navigation__toggle{display:none}}.navigation__mobile-logo{display:none}.navigation__toggle-icon{top:8px;left:10px}.navigation__toggle-icon,.navigation__toggle-icon:after,.navigation__toggle-icon:before{position:absolute;width:30px;height:3px;transition:all .3s ease;border-radius:4px;background-color:#33332d}.navigation__toggle-icon:after,.navigation__toggle-icon:before{content:"";display:block}.navigation__toggle-icon:before{top:10px}.navigation__toggle-icon:after{top:20px}.is-open--navigation{overflow:hidden;height:100vh}.is-open--navigation .navigation{opacity:1;display:unset}.is-open--navigation .navigation:before{content:"";background-color:#e1e1e1;position:absolute;width:25px;height:25px;top:-3px;right:13px;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.is-open--navigation .navigation__mobile-logo{display:block;width:30px;height:30px;position:absolute;top:47px;left:5%}@media (min-width:1200px){.is-open--navigation .navigation__mobile-logo{display:none}}.is-open--navigation .navigation__toggle-icon{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.is-open--navigation .navigation__toggle-icon,.is-open--navigation .navigation__toggle-icon:after,.is-open--navigation .navigation__toggle-icon:before{background:#33332d}.is-open--navigation .navigation__toggle-icon:before{-webkit-transform:rotate(-45deg) translate3d(-5.71429px,-6px,0);transform:rotate(-45deg) translate3d(-5.71429px,-6px,0);opacity:0}.is-open--navigation .navigation__toggle-icon:after{-webkit-transform:translate3d(0,-19px,0) rotate(-90deg);transform:translate3d(0,-19px,0) rotate(-90deg)}.navigation__item{margin:22px 0;white-space:nowrap}.navigation__item:first-of-type{margin:0 0 22px}.navigation__item:last-of-type{margin:22px 0 0}@media (min-width:1200px){.navigation__item{margin:0 30px;padding:0!important}.navigation__item:first-of-type{margin:0 30px 0 2rem}.navigation__item:last-of-type{margin:0 0 0 30px}}.language-switcher{margin-left:auto;display:flex;width:63px;justify-content:space-between;text-decoration:none}.language-switcher a,.language-switcher span{padding:1px 3px;text-transform:uppercase;border-radius:5px;font-weight:500}.language-switcher a{cursor:pointer;margin:1px}.language-switcher a:hover{background-color:#33332d!important;color:#fff!important}.language-switcher__active-language{border:1px solid #33332d!important}html{font-family:IBM Plex Mono,monospace;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:IBM Plex Mono,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em IBM Plex Mono,monospace;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:IBM Plex Mono,monospace;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{margin:2rem 0 -.5rem;font-size:1.38316rem}h3,h4{padding:0;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{margin:2rem 0 -1rem;font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}body,html{margin:0;padding:0;font-family:IBM Plex Mono,monospace;font-weight:500;color:#33332d;font-size:14px;line-height:1.555rem}@media (min-width:992px){body,html{font-size:18px}}.main-wrapper{min-height:100vh;display:flex;flex-direction:column}p{margin:0;text-align:left;line-height:1.5em}a,p{color:#33332d}a{text-decoration:none}.link a{border-bottom:2px solid #e1e1e1}.link a:hover{background-color:#e1e1e1}.container{position:relative;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:space-between;width:90%;max-width:1200px}@media (max-width:639px){.container{padding:0 20px}}@media (min-width:992px){.container--right{margin-right:5%;width:54%;max-width:719.9856px}}@media (min-width:992px) and (min-width:1200px){.container--right{margin-right:calc((100% - 1200px)/2)}}.hidden{display:none!important}.centered{text-align:center}@media (max-width:639px){.centered--mobile{justify-content:center;align-content:center;align-items:center}}.spacing{margin-top:2rem}@media (max-width:992px) and (min-width:640px){.spacing--tablet{margin-top:5rem!important}}@media (min-width:992px){.spacing{margin-top:5rem}}.spacing--small{margin-top:1rem}@media (min-width:992px){.spacing--small{margin-top:3.444rem}}.spacing--large{margin-top:4rem}@media (min-width:992px){.spacing--large{margin-top:10rem}}.spacing--extra-large{margin-top:4rem}@media (min-width:992px){.spacing--extra-large{margin-top:20rem}}.spacing--after{margin-bottom:2rem}@media (min-width:992px){.spacing--after{margin-bottom:5rem}}@media (max-width:639px){.spacing--after--mobile{margin-bottom:5rem}}@media (min-width:992px){.spacing--after-small{margin-bottom:2.5rem}}.spacing--after-large{margin-bottom:4rem}@media (min-width:992px){.spacing--after-large{margin-bottom:10rem}}@media (max-width:991px){.spacing--mobile{margin-top:2rem}}@media (max-width:1199px){.spacing--mobile--small{margin-top:1.5rem}}@media (max-width:1199px){.spacing--mobile--large{margin-top:3rem}}.col-1{width:100%}@media (min-width:992px){.col-1{width:10%}}.col-2{width:100%}@media (min-width:992px){.col-2{width:20%}}.col-3{width:100%}@media (min-width:992px){.col-3{width:30%}}.col-4{width:100%}@media (min-width:992px){.col-4{width:40%}}.col-5{width:100%}@media (min-width:992px){.col-5{width:50%}}.col-6{width:100%}@media (min-width:992px){.col-6{width:60%}}.col-7{width:100%}@media (min-width:992px){.col-7{width:70%}}.col-8{width:100%}@media (min-width:992px){.col-8{width:80%}}.col-9{width:100%}@media (min-width:992px){.col-9{width:90%}}.col-10{width:100%}@media (min-width:992px){.col-10{width:100%}}@media (min-width:992px){.push-right-1{margin-left:10%}.push-right-2{margin-left:20%}.push-right-3{margin-left:30%}.push-right-4{margin-left:40%}.push-right-5{margin-left:50%}.push-left-1{margin-right:10%}.push-left-2{margin-right:20%}.push-left-3{margin-right:30%}.push-left-4{margin-right:40%}.push-left-5{margin-right:50%}.push-left{margin-right:auto}.push-right{margin-left:auto}}@media (max-width:639px){.col-1--mobile{width:10%!important}.col-2--mobile{width:20%!important}.col-3--mobile{width:30%!important}.col-4--mobile{width:40%!important}.col-5--mobile{width:50%!important}.col-6--mobile{width:60%!important}.col-7--mobile{width:70%!important}.col-8--mobile{width:80%!important}.col-9--mobile{width:90%!important}.col-10--mobile{width:100%!important}.push-right-1--mobile{margin-left:10%!important}.push-right-2--mobile{margin-left:20%!important}.push-right-3--mobile{margin-left:30%!important}.push-right-4--mobile{margin-left:40%!important}.push-right-5--mobile{margin-left:50%!important}.push-left-1--mobile{margin-right:10%!important}.push-left-2--mobile{margin-right:20%!important}.push-left-3--mobile{margin-right:30%!important}.push-left-4--mobile{margin-right:40%!important}.push-left-5--mobile{margin-right:50%!important}.order-0--mobile{order:0}.order-1--mobile{order:1}.order-2--mobile{order:2}.order-3--mobile{order:3}.order-4--mobile{order:4}.order-5--mobile{order:5}.hidden--mobile{display:none}}@media (max-width:1199px){.col-1--tablet{width:10%}.col-2--tablet{width:20%}.col-3--tablet{width:30%}.col-4--tablet{width:40%}.col-5--tablet{width:50%}.col-6--tablet{width:60%}.col-7--tablet{width:70%}.col-8--tablet{width:80%}.col-9--tablet{width:90%}.col-10--tablet{width:100%}.order-0--tablet{order:0}.order-1--tablet{order:1}.order-2--tablet{order:2}.order-3--tablet{order:3}.order-4--tablet{order:4}.order-5--tablet{order:5}.order-0--mobile{order:0}.order-1--mobile{order:1}.order-2--mobile{order:2}.order-3--mobile{order:3}.order-4--mobile{order:4}.order-5--mobile{order:5}.hidden--mobile{display:none}}.centered-vertically{display:flex;flex-direction:column;justify-content:center}.nav-item-hover{text-decoration:none;color:#33332d;font-weight:500;padding:.2em}@media (min-width:640px){.nav-item-hover{font-weight:600}}.nav-item-hover:active,.nav-item-hover:focus,.nav-item-hover:hover{color:#fff;background-color:#33332d!important}.nav-item-hover:active,.nav-item-hover:focus{outline:2px solid #706be4}.flex-fix-aligning:after,.flex-fix-aligning:before{content:"";width:30%;order:2}.index__main-title{font-size:1.571rem}@media (min-width:992px){.index__main-title{font-size:3rem}}.auto-bottom-margin{margin-bottom:auto}@media (min-width:992px){.absolute-top-right--desktop{position:absolute;top:0;right:0}}@media (min-width:640px){.frontpage__hero .image{top:-2em}}@media (min-width:992px){.frontpage__hero{flex-direction:column}.frontpage__hero .image{top:4em}}.heading-font{font-family:IBM Plex Sans,monospace}.about__challenge-button{box-shadow:-3px 5px #33332d;padding:.6rem 1rem;border:3px solid #33332d;font-weight:600}.about__challenge-button:hover{background-color:#33332d;color:#fff;cursor:pointer}.about__challenge-button--turquoise{background-color:#82f7eb}@media (max-width:1199px){.space-between--mobile{justify-content:space-between}}.challenge__banner{display:flex;justify-content:center;margin-bottom:-70px}@media (min-width:640px){.challenge__banner{-webkit-transform:translateY(-10px);transform:translateY(-10px)}}@media (min-width:1200px){.challenge__banner{margin-bottom:-370px}}.challenge__banner .image{margin:0;width:70%;-webkit-transform:translateY(-25%);transform:translateY(-25%)}@media (min-width:640px){.challenge__banner .image{-webkit-transform:translateY(-10%);transform:translateY(-10%)}}@media (min-width:1200px){.challenge__banner .image{-webkit-transform:translateY(-30%);transform:translateY(-30%)}}.header{position:-webkit-sticky;position:sticky;z-index:9999999999;top:0;box-sizing:border-box;width:100%;padding-top:1.444rem;padding-bottom:1rem;transition:all .2s ease-in-out}.header--small{pointer-events:none}.header__logo{margin:0 10px;pointer-events:auto}.triple-border{position:relative;padding:2px;border-radius:5px 0;transition:color .1s ease-in-out,background-color .1s ease-in-out}.triple-border:after,.triple-border:before{z-index:2;content:"";border:2px solid #33332d;border-radius:5px;position:absolute;width:calc(100% + 5px);height:calc(100% + 5px)}.triple-border:before{left:0;top:0}.triple-border:after{bottom:0;right:0}.triple-border__container{position:relative;overflow:hidden;border-radius:3px 0}.triple-border--large-margin{margin:13px;padding:3px}.triple-border--large-margin:after,.triple-border--large-margin:before{content:"";border-width:3px;border-radius:13px;width:calc(100% + 13px);height:calc(100% + 13px)}.triple-border--large-margin .triple-border__container{border-radius:10px 0}.triple-border__logo{padding:.2rem;font-size:1.111rem;font-weight:600}.triple-border__return-tasks{font-size:.9rem;padding:1rem .2rem}.prev-next__container .separator{display:none}@media (max-width:639px){.prev-next__container .separator{display:block;background-color:#33332d;width:2px!important}}.prev-next__container .prev b,.prev-next__container .prev p{text-align:right}@media (max-width:639px){.prev-next__container .prev p:before{content:"<";margin-right:1rem}}@media (max-width:639px){.prev-next__container .next p:after{content:">";margin-left:1rem}}.scroll-navigation{display:none;padding-right:1rem;z-index:199}@media (min-width:992px){.scroll-navigation{display:block;font-size:16px;position:absolute;width:30%;left:0;top:198px}}.scroll-navigation li{list-style-type:none}.scroll-navigation li:hover{cursor:pointer}.scroll-navigation li:hover a{background-color:#33332d;color:#fff!important}.scroll-navigation li:before{content:"-"}.left-navigation-link{padding-left:1.2rem;text-indent:-1.2rem;display:block}.left-navigation-link:hover{background-color:#33332d!important;color:#fff!important}.level-h1{font-weight:700;padding-left:2.8rem;text-indent:-2.8rem}.level-h2{padding-left:1.6rem;text-indent:-1.6rem}.accordion__container{margin-bottom:1rem}.accordion__title{padding-left:2.149rem!important;padding-right:2.149rem!important;font-size:1.111rem!important;font-weight:600}.accordion{background-color:#fff;border:3px solid #33332d;border-radius:5px;color:#444;cursor:pointer;padding:1rem;width:100%;text-align:left;outline:none;font-size:15px;transition:max-width .4s}.accordion:hover,.active{background-color:#e1e1e1}.accordion:after{content:"+";font-size:1.5rem;float:right;margin-left:5px}.active{border-color:#fff}.active:after{content:"-";font-size:1.5rem}.panel{background-color:#fff;transition:height .3s;transition-timing-function:ease-in-out;overflow:hidden}.accordion--side-navigation{width:100%;margin-left:unset}.accordion--side-navigation .accordion{border:none;padding:0!important;background-color:transparent!important;color:#33332d!important;border-radius:0}.accordion--side-navigation .accordion__title{font-size:16px!important;font-weight:unset;background-color:transparent}.accordion--side-navigation .accordion__title:hover{background-color:#33332d!important;color:#fff!important}.accordion--side-navigation .panel{padding:1rem 0 0!important;background-color:transparent}.accordion--side-navigation .panel ul{margin-left:1rem}.accordion--side-navigation .accordion:hover,.accordion--side-navigation .active{background-color:#33332d;color:#fff}.accordion--side-navigation .accordion:after,.accordion--side-navigation .active:after{content:""}.body-text:not(:last-of-type){margin-bottom:2.5rem}.body-text__title{color:#33332d;font-size:1.44rem;line-height:1.25em;font-weight:700;margin:0;position:relative;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.body-text__content:not(:last-of-type){padding-bottom:2em}.bold{font-weight:700}.body-text--no-padding{padding:0!important}@media (min-width:640px){.companies__main-title .body-text__title{font-size:3rem}}.challenge-title{font-size:1.44rem}.sub-header{color:#33332d;font-family:IBM Plex Mono,monospace;padding-bottom:1.357rem}@media (min-width:992px){.sub-header{padding-bottom:2.333rem}}</style><meta name="generator" content="Gatsby 2.0.53"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">Fullstack part9 | </title><meta data-react-helmet="true" name="description" content="Open online course on Javascript based modern web development by University of Helsinki and Houston Inc.."/><meta data-react-helmet="true" property="og:title" content="Fullstack part9 | "/><meta data-react-helmet="true" property="og:description" content="Open online course on Javascript based modern web development by University of Helsinki and Houston Inc.."/><meta data-react-helmet="true" name="og:image" content="/static/EYE_green_wide-0a72f74a959f54d0f3e4bb8c67f6f158.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Houston Inc. Consulting oy"/><meta data-react-helmet="true" name="twitter:title" content="Fullstack part9 | "/><meta data-react-helmet="true" name="twitter:description" content="Open online course on Javascript based modern web development by University of Helsinki and Houston Inc.."/><meta data-react-helmet="true" name="twitter:image" content="/static/EYE_green_wide-0a72f74a959f54d0f3e4bb8c67f6f158.jpg"/><meta data-react-helmet="true" name="google-site-verification" content="ds9pQKiK3kjhRSHHbf5ccoG-oJggn7Lq4A8uHxM3Mkw"/><meta data-react-helmet="true" name="keywords" content="fullstack, Full stack -websovelluskehitys, course, helsingin yliopisto, tietojenkäsittelytieteen osasto, mooc, mooc.fi, full stack, full stack open, web-sovelluskehitys, web, houston, houston inc, websovelluskehitys, web-sovellus, React, Redux, Node.js, Node, MongoDB, GraphQL, REST, REST api, single page -sovellus, ohjelmointi, university of helsinki, department of computer science, web development, software development, web, web application, single page app, programming, , "/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#e1e1e1"/><link rel="canonical" href="https://fullstackopen.com/en/part9/typing_the_express_app" data-baseprotocol="https:" data-basehost="fullstackopen.com"/><link as="script" rel="preload" href="/app-6e00846a49333a16c4de.js"/><link as="script" rel="preload" href="/component---src-templates-content-template-js-a4a5f8b853cd87d353cd.js"/><link as="script" rel="preload" href="/0-011c3adc24a9ef2086ab.js"/><link as="script" rel="preload" href="/22-88a6b0f2723e2deb373a.js"/><link as="script" rel="preload" href="/3-ad64fb5c6efc391805fe.js"/><link as="script" rel="preload" href="/1-03d0504106761e292e10.js"/><link as="script" rel="preload" href="/webpack-runtime-37305715647998e87203.js"/><link rel="preload" href="/static/d/811/path---en-part-9-typing-the-express-app-aa-6-bc2-gxis1fJLHYhUxpUzkXsnjyt61oA.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="main-wrapper"><div class="header " style="background-color:white"><div class="container" style="align-items:center;justify-content:flex-start"><a class="header__logo" href="/"><div class="triple-border nav-item-hover " style="padding:0.2em"><div class="triple-border__container triple-border__logo" style="background-color:transparent;z-index:10">{() =&gt; fs}</div></div></a><div class="navigation__wrapper "><button aria-label="Navigation menu" aria-expanded="false" class="navigation__toggle"><div class="navigation__toggle-icon"></div></button><nav><ul class="navigation"><li class="navigation__item "><a class="nav-item-hover" href="/about">Kurssista</a></li><li class="navigation__item "><a class="nav-item-hover" href="/#course-contents">Kurssin sisältö</a></li><li class="navigation__item "><a class="nav-item-hover" href="/faq">FAQ</a></li><li class="navigation__item "><a class="nav-item-hover" href="/companies">Kurssilla mukana</a></li></ul></nav></div></div></div><div class="course-container spacing--after"><div class="banner part-main__banner spacing--mobile--small" style="background-image:url(/static/part-9-f6057a11c6e419b877b946d5dd8329fd.svg)"><div class="container spacing--after"><div class="col-10 spacing--after"><div class="arrow__container arrows--horizontal breadcrumb"><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:transparent;color:#33332d"><a href="/en/#course-contents">Fullstack</a></div><div class="arrow__point " style="background-color:transparent;color:#33332d"></div></div><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:transparent;color:#33332d"><a href="/en/part9">part 9</a></div><div class="arrow__point " style="background-color:transparent;color:#33332d"></div></div><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#33332d;color:white">Typing the express app</div><div class="arrow__point " style="background-color:#33332d;color:white"></div></div></div></div></div></div><div class="course "><div class="container element--flex element--relative"><div class="scroll-navigation col-2 spacing element--flex element--column" tag="ul"><a class="left-navigation-link" href="/en/part9/background_and_introduction">a Background and introduction</a><a class="left-navigation-link" href="/en/part9/first_steps_with_typescript">b First steps with Typescript</a><div class="accordion__container col-8 push-right-1 accordion--side-navigation"><button class="accordion accordion__title  ">c Typing the express app</button><div class="panel" style="padding:;max-height:0;transition:max-height 0.2s ease-out"><ul></ul></div></div><a class="left-navigation-link" href="/en/part9/react_with_types">d React with types</a></div><div class="course-content col-6 push-right-3 element--auto-bottom-margin"><p class="col-1 letter">c</p><h1 class="sub-header ">Typing the express app</h1></div></div><div class="container"><div class="course-content col-6 push-right-3">
<p>Now that we have a basic understanding of how TypeScript works and of how to create actual projects with it, it is time to start creating something actually useful. So now we&#x27;re going to create a completely new project, with a bit more realistic use cases in mind.</p>
<p>One major change from the previous part is that <strong>we&#x27;re not going to use ts-node anymore</strong>. ts-node is a handy tool, with which it is very easy to get started, but in the long run it is suggested to use the official TypeScript compiler that comes with the <em>typescript</em> npm-package. With this compiler the basic JavaScript files are generated and packaged from the .ts files so that the built <i>production version</i> of the project won&#x27;t contain any TypeScript code. This is exactly what is aimed for in the end, since TypeScript in itself is not runnable by browsers or Node.</p>
<h3>Setting up the project</h3>
<p>Our project is created for Ilari, who loves riding small planes but has a bit of difficulties managing his flight history. He is quite the coder himself, so he doesn&#x27;t necessarily need a user interface for his flight records, but he&#x27;d like to use the software with HTTP-requests so that the possibility to extend the application to also include a web-based user interface is maintained.</p>
<p>Let&#x27;s start creating our own first real project &#x27;Ilari&#x27;s flight diaries&#x27;, as we usually would by running <em>npm init</em> and by installing the <em>typescript</em> package. </p>
<p>TypeScript&#x27;s native <em>tsc</em> compiler offers us help initialising our project with the command <em>tsc --init</em>. To be able to run this, we need to add the <em>tsc</em> command to runnable scripts in the package.json file if we don&#x27;t have <em>typescript</em> installed globally. And even if you would have typescript installed globally, you should always include the package as a dev-dependency in your project.</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  // ..
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token property">&quot;tsc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span><span class="token punctuation">,</span></span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  // ..
<span class="token punctuation">}</span></code></pre></div>
<p> Very often the bare <em>tsc</em> command is set up in the project scripts for other scripts to use, so it is very common to see the  <em>tsc</em> command set up within the project like this.</p>
<p> Now we can init our tsconfig.json settings by running:</p>
<div class="gatsby-highlight" data-language="sh"><pre><code class="language-sh"> npm run tsc -- --init</code></pre></div>
<p> <strong>Notice</strong> the extra -- before the actual argument, arguments before the -- are interpreted for the command <em>npm</em> abd after are for the command that is run throught the package.json scripts. </p>
<p>The created tsconfig.json contains a pretty big list of all of the possible configurations available to use with only a few uncommented ones. Studying the initial tsconfig.json file might be useful to find something you might be needing and it is completely okay to not delete the commented rows in the file just in case you might someday need to expand your configuration settings. </p>
<p>Right now the preferred settings we want right now are the following:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./build/&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>       
    <span class="token property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
     
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Let&#x27;s go through each setting now: </p>
<p>The <i>target</i> parameter informs the compiler into which ECMAScript version the generated JavaScript should be generated into. ES6 is supported by most browsers and therefore is a good and pretty safe option.</p>
<p><i>outDir</i> tells where the compiled result should be placed.</p>
<p><i>module</i> tells the compiler that we want to use <i>commonjs</i> modules in compiled code, so the code uses <em>require</em> instead of <em>import</em> that is not supported in older Node.js versions such as the version 10. </p>
<p><i>strict</i> is actually a shorthand to include multiple separate options:
<i>noImplicitAny, noImplicitThis, alwaysStrict, strictBindCallApply, strictNullChecks, strictFunctionTypes and strictPropertyInitialization</i>. These all guide our coding style use TypeScript features more strictly, <i>noImplicitAny</i> restricts implicit setting for any, which happens for example if you don&#x27;t type the expected variables of a function. The rest of the options can all be studied more closely on the <a href="https://www.typescriptlang.org/v2/en/tsconfig#strict">tsconfig documentation</a>. Using <i>strict</i> is suggested by the official documentation.</p>
<p><i>noUnusedLocals</i> gives an error if a local variable is unused and noUnusedParameters when on unused parameters. </p>
<p><i>noFallthroughCasesInSwitch</i> gives an error if a <em>switch - case</em> is used without a fallthrough possibility (falling to a case does not <em>return</em> or <em>break</em> the evaluation of the switch).</p>
<p><i>esModuleInterop</i> allows interaperability between commonJS and ES Modules, see more <a href="https://www.typescriptlang.org/v2/en/tsconfig#esModuleInterop">in documentation</a>.</p>
<p>Now that we have our preferred configuration set, let&#x27;s continue by installing <em>express</em> and of course also <em>@types/express</em>. Since this is a real project, which is intended to be grown over time, it might be useful to use eslint from the beginning, so that no extra refactoring or rewriting is needed later on if these are added afterwards. We should also put So let&#x27;s also install <em>eslint</em>, <em>@typescript-eslint/eslint-plugin</em> and <em>@typescript-eslint/parser</em>.</p>
<div class="gatsby-highlight" data-language="sh"><pre><code class="language-sh">npm install express
npm install --save-dev @types/express @typescript-eslint/eslint-plugin @typescript-eslint/parser</code></pre></div>
<p>Now our <em>package.json</em> should look something like this: </p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ilaris-flight-diaries&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.ts&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;tsc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@types/express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@typescript-eslint/eslint-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.17.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@typescript-eslint/parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.17.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.8.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.7.5&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>We should also create <em>.eslintrc</em> with the following content:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin:@typescript-eslint/recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin:@typescript-eslint/recommended-requiring-type-checking&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@typescript-eslint&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;es6&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@typescript-eslint/semi&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@typescript-eslint/explicit-function-return-type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@typescript-eslint/no-unused-vars&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property">&quot;argsIgnorePattern&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^_&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token property">&quot;@typescript-eslint/no-explicit-any&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;no-case-declarations&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;project&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tsconfig.json&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Now we only need to set up our development environment properly, and then we are ready to start writing some serious code. There are many different options and we could use the familiar <em>nodemon</em> with <em>ts-node</em>, but as we saw before, <em>ts-node-dev</em> does the exact same thing and we can continue using it. So, let&#x27;s install <em>ts-node-dev</em> and we are ready to start developing. </p>
<div class="gatsby-highlight" data-language="sh"><pre><code class="language-sh">npm install --save-dev ts-node-dev</code></pre></div>
<p><strong>Sidenote:</strong> When deciding on what packages to use, a <a href="https://npmtrends.com">npmtrends</a> is a good place to compare the popularity and growth of different npm packages. When <a href="https://www.npmtrends.com/nodemon-vs-ts-node-dev-vs-ts-node">comparing</a> the use of <em>ts-node-dev</em> and both <em>nodemon</em> and <em>ts-node</em>  we can see that the popularity of ts-node-dev is not nearly as popular as using nodemon and ts-dev, so the safer choice might be to just go with the other choice. Now let&#x27;s still give <em>ts-node-dev</em> a chance and use it in these exercises.</p>
<p>There sure is a lot of stuff to go through before you can even start the actual coding. When in a real project, careful preparations support your development process to a great length, so take the time to create a good setting for yourself / your team and in the long run everything will be much smoother. </p>
<h3>Let there be code</h3>
<p>Now we can finally start coding! As before, let&#x27;s start out by creating our first ping-endpoint, just to make sure everything is working.</p>
<p>The contents of the root <em>index.ts</em> file:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/ping&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;someone pinged here&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;pong&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Server running on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>And since we haven&#x27;t yet set up the development script that uses the ts-node-dev, now is the correct time to add it:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  // ..
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;tsc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ts-node-dev index.ts&quot;</span></span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  // ..
<span class="token punctuation">}</span></code></pre></div>
<p>Now we could run the <em>npm run dev</em>, but wait, a problem arises! </p>
<div class="gatsby-highlight" data-language="sh"><pre><code class="language-sh">index.ts:7:19 - error TS6133: &#x27;req&#x27; is declared but its value is never read.

7 app.get(&#x27;/ping&#x27;, (req, res) =&gt; {
                    ~~~
Found 1 error.</code></pre></div>
<p>So our stricter than before tsconfig options don&#x27;t allow us to keep unused variables within the code while making a production build. This comes problematic when we have library-wide predefined functions, that like in this case require declaring a variable, even though in the code it is not necessarily required to use at all. Fortunately this issue has already been solved on configuration level and once again hovering on the issue gives us a solution for the problem, this time by clicking the quick fix button: </p>
<picture><img alt="fullstack content" src="/static/aab375f39eba1edc51cd60f022e04aa8/14be6/14.png"/></picture>
<p>If it is absolutely impossible to get rid of an unused variable, you should prefix it with an underscore to inform the compiler that this has been taken into considearation and there is nothing we can do. Let&#x27;s rename the <em>req</em> variable to _<em>req</em> and we can continue with our development.</p>
<p>Now by running <em>npm run dev</em> we should be able to run and curl our <em>/ping</em> endpoint.</p>
<p>Now when we can see the happy <em>pong</em>, we should try creating our first production build. Now that we have defined the <em>outdir</em> in our tsconfig.json, there&#x27;s nothing else really to do, but running <em>npm run tsc</em>.</p>
<p>Just like magic a native runnable JavaScript production build of the ping-pong express backend is created into the build folder.</p>
<p>Now our eslint also tries to interpret the files in the <em>build</em> folder, which we don&#x27;t want, as this is compiler generated code. This can easily be prevented by creating a file <em>.eslintignore</em> in your project&#x27;s root with the content you want eslint to ignore, exactly as in <em>.gitignore</em>.</p>
<p>Let&#x27;s try our project by creating production run command for the project:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  // ...
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;tsc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ts-node-dev index.ts&quot;</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node build/index.js&quot;</span></span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  // ...
<span class="token punctuation">}</span></code></pre></div>
<p>and run <em>npm start</em> and then try to curl our defined port:</p>
<picture><img alt="fullstack content" src="/static/bfbdc36e5821f9ddc238ca984fbc4663/a33f8/15.png"/></picture>
<p>Now we have a minimal working pipeline, with which we can develop our project, with a lot of help from our compiler and eslint in maintaining a good code quality. With this base we can actually start creating an app which we could proudly deploy into a production environment. </p>
</div></div>
<div class="banner spacing spacing--after tasks"><div class="container"><div class="course-content col-6 push-right-3" style="background-color:transparent">
<h3>Exercises 9.10.-9.11.</h3>
<p><strong>Before you start the exercises</strong></p>
<p>For this set of exercises you will be developing a backend for an existing project called <i>Diagnoses</i> which is a simple medical record application for the use doctors that handles patient information, diagnoses and basic health information of the patients.</p>
<p>The frontend has already been built by outsider experts and you&#x27;re task is to create a backend to support the existing code.</p>
<p><strong>Note:</strong> From now on you will be working with existing codebase and sometimes it is expected that you use your own skills to find the relevant files and and configurations to proceed in the exercises.</p>
<p><strong>Note 2:</strong> You will be extending the frontend later on so it is suggested that you fork the repository already now.</p>
<p><strong>Note 3:</strong> Code quality is extremely important, so take extra good care of that your code is <em>readable</em> and that it can be <em>easily shared</em> and by this, you need to end up with a result that is <em>production ready</em>, so that the built version of the project is working, and no extra dependencies are included in the end result.</p>
<h4>9.10: Diagnoses backend, step1</h4>
<p>Initialise a buildable project template called <em>Diagnoses-backend</em> that will be used by the frontend. Configure eslint and tsconfig with the same configurations that are used in the material. </p>
<p>Set up a endpoint that responses to HTTP GET requests to route <em>/ping</em>.   </p>
<p>You should also configure auto-reloading.</p>
<h4>9.11: Diagnoses backend, step2</h4>
<p>Fork and clone the project <a href="git%20clone%20https://github.com/fullstack-hy2020/patientor">patientor</a>. With the help of the README-file start the project. You should be able to use the frontend without a functioning backend.</p>
<p>Ensure that backend answers to frontend&#x27;s ping requests. Check developer tools to make sure it really works: </p>
<picture><img alt="fullstack content" src="/static/8c45cd53af07bd007a5911c788877bbf/14be6/16.png"/></picture>
<p>You might also want to have a look to tab <i>console</i>.</p>
<p>Set up a build script to your <i>backend</i>, so that you can create a production version of the project and make sure that also it answers to the frontend&#x27;s ping.</p>
</div></div></div>
<div class="container"><div class="course-content col-6 push-right-3">
<h3>Implementing the functionality</h3>
<p>Finally we are ready to start writing some code.</p>
<p>Let&#x27;s start from basics. Ilari wants to keep track of his experiences on his flight journeys, so it&#x27;s fairly simple to say that he wants to be able to read and write his experiences.</p>
<p>What he wants to be able to save, are diary entries that include: </p>
<ul>
<li>Date of the entry</li>
<li>Weather conditions (either good, windy, rainy or stormy)</li>
<li>Visibility (either good, ok or poor)</li>
<li>Free text entry of experience</li>
</ul>
<p>We already have some example data, which we will use as a guideline on how to develop further. The data is in json format and can be found <a href="https://github.com/fullstack-hy2020/misc/blob/master/diaryentries.json">here</a>.</p>
<p>Data looks like the following </p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-01-01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;weather&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rainy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;visibility&quot;</span><span class="token operator">:</span> <span class="token string">&quot;poor&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;comment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Pretty scary flight, I&#x27;m glad I&#x27;m alive&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-04-01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;weather&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sunny&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;visibility&quot;</span><span class="token operator">:</span> <span class="token string">&quot;good&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;comment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Everything went better than expected, I&#x27;m learning much&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  // ...
<span class="token punctuation">]</span></code></pre></div>
<p>Let&#x27;s start by creating an endpoint that returns all flight diary entries. </p>
<p>At this point it is already important to start thinking of architectural decisions for the project. This query should be answered through a <em>GET</em> request at <em>/api/diaries</em>. First, let&#x27;s create the general <em>/diaries</em> endpoint file to the project. We will create it into a <em>routes</em>-folder. </p>
<p>All code usually exists within a folder called <em>src</em>, so actual source code is not mixed up with general configuration files. Let&#x27;s create a <em>src</em> folder, then move the <em>index.ts</em> file from our project there and finally, we will create a <em>routes</em> folder and a <em>diaries</em> file within the <em>src</em> folder. Also now the <em>npm run dev</em> should be updated to point to the <em>index.ts</em> file in <em>src/index.ts</em>.</p>
<p>Right now our folder structure should look like this: </p>
<picture><img alt="fullstack content" src="/static/55b10fea8f855c7bda499e802016fc8d/13059/18.png"/></picture>
<p>Let&#x27;s start out by creating the first endpoints into the <em>diaries.ts</em> file.</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;Fetching all diaries!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;Saving a diary!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span></code></pre></div>
<p>And then let&#x27;s route all requests coming with the prefix <em>api/diaries/</em> to that specific router in _index.ts`</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> diaryRouter <span class="token keyword">from</span> <span class="token string">&#x27;./routes/diaries&#x27;</span><span class="token punctuation">;</span></span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/ping&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;someone pinged here&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;pong&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/diaries&#x27;</span><span class="token punctuation">,</span> diaryRouter<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
  
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Server running on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>And now when curling localhost:3000/api/diaries we should see the message <i>Fetching all diaries!</i>.</p>
<p>Now let&#x27;s add the data accessing diaryservice to the code! Let&#x27;s create a folder <em>services</em> and add a file called <em>diaryService.ts</em> into the folder. Then, let&#x27;s start implementing the two methods we need; <em>getAllDiaryEntries</em> and <em>addDiaryEntry</em>. To get all entries, we of course need to access the data. Since we are not using a database, this means we will instad <i>import</i> the pre-defined JSON-file. </p>
<p>Code looks like the following</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> diaryData <span class="token keyword">from</span> <span class="token string">&#x27;../../data/entries.json&#x27;</span>

<span class="token keyword">const</span> <span class="token function-variable function">getEntries</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> diaryData
<span class="token punctuation">}</span> 

<span class="token keyword">const</span> <span class="token function-variable function">addEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span> 

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  addEntry
<span class="token punctuation">}</span></code></pre></div>
<p>But something is not right</p>
<picture><img alt="fullstack content" src="/static/801364709f5ece74130870d09224fe03/14be6/17b.png"/></picture>
<p>The hint says we might want to use <em>resolveJsonModule</em>. Let&#x27;s add it to our tsconfig: </p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./build/&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>       
    <span class="token property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">    <span class="token property">&quot;resolveJsonModule&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span></span>  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Problems are now gone.</p>
<p>As before we&#x27;ve seen how the compiler can decide the type of a variable by the value it is being assignet to and in a similar way the compiler interprets larger data sets, objects and arrays. This is why the compiler actually can warn us if we are trying to do something suspicious to the json data we are currently handling. If we&#x27;re handling an array that includes specific types of objects and we&#x27;re trying to add an object there that doesn&#x27;t have all of the fields that the other objects have or is having type conflicts (for example a number where a string should be) the compiler can give us a warning. </p>
<p>Even though the compiler is pretty intelligent in order to be sure not to do anything unwanted it is safer to create the correct types to the data by yourself.</p>
<p>Now we have a basic working TypeScript express app but there&#x27;s barely any actual <i>typings</i> in the code. Since we now have a clear definition on what type of data should be accepted for the weather and visibility fields for the data there is no reason for us not to include also those types in the the code. Let&#x27;s create our type-exclusive file <em>types.ts</em> in which we&#x27;ll put all our types in this project.</p>
<p>First let&#x27;s type the allowed <em>Weather</em> and <em>Visibility</em> values through a <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types">union type</a> with allowed strings: </p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type Weather <span class="token operator">=</span> <span class="token string">&#x27;sunny&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;rainy&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;cloudy&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;windy&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;stormy&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> type Visibility <span class="token operator">=</span> <span class="token string">&#x27;great&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;good&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;ok&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;poor&#x27;</span><span class="token punctuation">;</span></code></pre></div>
<p>And from there we can continue to create our own simple DiaryEntry type:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type DiaryEntry <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  date<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
  weather<span class="token punctuation">:</span> Weather<span class="token punctuation">,</span>
  visibility<span class="token punctuation">:</span> Visibility<span class="token punctuation">,</span>
  comment<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
<span class="token punctuation">}</span> </code></pre></div>
<p>We can now try to type our imported json: </p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> diaryData <span class="token keyword">from</span> <span class="token string">&#x27;../../data/entries.json&#x27;</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Weather<span class="token punctuation">,</span> Visibility<span class="token punctuation">,</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span></span>
<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> diaries <span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span> <span class="token operator">=</span> diaryData</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> getEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">return</span> diaries</span><span class="token punctuation">}</span> 

<span class="token keyword">const</span> <span class="token function-variable function">addEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span> 

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  addEntry
<span class="token punctuation">}</span></code></pre></div>
<p>But since the json already has its values declared, assigning a type for the dataset results in an error:</p>
<picture><img alt="fullstack content" src="/static/ecc0ce4bb97018da8c1b12b9cf3d149d/14be6/19a.png"/></picture>
<p>Since the <em>weather</em> (and <em>visibility</em>) fields both have been typed by us in the <em>DiaryEntry</em> type declaration and by the TypeScript compiler itself, a conflict arises. This can be surpassed if we are certain that we know what we are doing by <a href="">type assertion</a>. Let&#x27;s assert the type of the variable <em>diaries</em> to the DiaryData object with the keyword <em>as</em> and everything should work: </p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> diaryData <span class="token keyword">from</span> <span class="token string">&#x27;../../data/entries.json&#x27;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Weather<span class="token punctuation">,</span> Visibility<span class="token punctuation">,</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> diaries <span class="token operator">=</span> diaryData <span class="token keyword">as</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span><span class="token punctuation">;</span></span>
<span class="token keyword">const</span> getEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> diaries
<span class="token punctuation">}</span> 

<span class="token keyword">const</span> <span class="token function-variable function">addEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span> 

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  addEntry
<span class="token punctuation">}</span></code></pre></div>
<p>Type assertion should not be used unless there&#x27;s no other way to proceed since there&#x27;s always the danger of asserting an unfit type to an object and then trusting the assreted type. While the compiler trusts you to know when using <em>as</em>, at the same time it leaves the intelligence of the whole TypeScript to manual interpretation. </p>
<p>In our case we could change our data exportation method so that we can have the typing happen naturally within the variable declaration file. Since typings are not valid in a JSON-file, we should convert the json-file to a ts-file which exports the typed object-format data in the following way: </p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../src/types&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> diaryEntries<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;date&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;2017-01-01&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;weather&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;rainy&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;visibility&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;poor&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;comment&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Pretty scary flight, I&#x27;m glad I&#x27;m alive&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">]</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> diaryData<span class="token punctuation">;</span></code></pre></div>
<p>When we now import the array, it is already intelligently interpreted so that even the <em>weather</em> and <em>visibility</em> fields are understood correctly:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">import</span> diaries <span class="token keyword">from</span> <span class="token string">&#x27;../../data/entries.ts&#x27;</span></span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Weather<span class="token punctuation">,</span> Visibility<span class="token punctuation">,</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span>

<span class="token keyword">const</span> getEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>DiaryEntry<span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">return</span> diaries</span><span class="token punctuation">}</span> 

<span class="token keyword">const</span> <span class="token function-variable function">addEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span> 

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  addEntry
<span class="token punctuation">}</span></code></pre></div>
<p>Note that, if we want to reserve the opportunity to save also entries without a field, e.g. <em>comment</em>, we could set type field as optional by adding <em>?</em> to the type declaration: </p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">type DiaryEntry <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  date<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
  weather<span class="token punctuation">:</span> Weather<span class="token punctuation">,</span>
  visibility<span class="token punctuation">:</span> Visibility<span class="token punctuation">,</span>
  comment<span class="token operator">?</span><span class="token punctuation">:</span> string<span class="token punctuation">,</span>
<span class="token punctuation">}</span> </code></pre></div>
<h3>Utility Types</h3>
<p>Sometimes we end up in a situation where we want to use a specific modification of a type. For example consider using a general listing page for data that has some non-sensitive and some  sensitive data. In a common listing page we might want to be sure that no sensitive data is being used or shown so we might only <i>pick</i> the fields of a type we allow to be used in that situation. For that we use the utility type <a href="http://www.typescriptlang.org/docs/handbook/utility-types.html#picktk">Pick</a>.</p>
<p>In our example we should consider that Ilari might want to create a frontend listing of all his diary entries excluding the comment field, since during a very scary flight he might end up writing there something he wouldn&#x27;t necessarily want to show anyone else.</p>
<p>The <a href="http://www.typescriptlang.org/docs/handbook/utility-types.html#picktk">Pick</a> utility type allows us to choose what fields of a type we want to use of the existing type. Pick can be used to construct a completely new type or just in time when informing a function what it should return, as any other typings can be used. Utility types are special kinds of type tools, but they are used exactly as regular types are.</p>
<p>In this case, in order to create this kind of &quot;narrowed&quot; version of the Entry type we could just use the Pick in the function declaration:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span> 
  <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>Pick<span class="token operator">&lt;</span>DiaryEntry<span class="token punctuation">,</span> <span class="token string">&#x27;id&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;date&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;weather&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;visibility&#x27;</span><span class="token operator">&gt;&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span></code></pre></div>
<p>and it would expect the function to return an array of the modification of DiaryEntry type which includes only the four declared fields. </p>
<p>Since <a href="http://www.typescriptlang.org/docs/handbook/utility-types.html#picktk">Pick</a> requires the type it modifies to be given as a <a href="http://www.typescriptlang.org/docs/handbook/generics.html#working-with-generic-type-variables">type variable</a>, simillar as the Array, we have now two nested type variables and the syntax looks already a bit odd. We can improve the readability by using the <a href="http://www.typescriptlang.org/docs/handbook/basic-types.html#array">alternative</a> syntax of arrays:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span> 
  <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Pick<span class="token operator">&lt;</span>DiaryEntry<span class="token punctuation">,</span> <span class="token string">&#x27;id&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;date&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;weather&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;visibility&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span></code></pre></div>
<p>Even better in this case when we want to exclude only one field, would be to use the <em>Omit</em> utility type, for which you can declare what fields to exclude:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Omit<span class="token operator">&lt;</span>DiaryEntry<span class="token punctuation">,</span> <span class="token string">&#x27;comment&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Another way would be to declare a completely new type for the <em>NonSensitiveDiaryEntry</em>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">type NonSesitiveDiaryEntry <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>DiaryEntry<span class="token punctuation">,</span> <span class="token string">&#x27;comment&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span></code></pre></div>
<p>The code is now</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> diaries <span class="token keyword">from</span> <span class="token string">&#x27;../../data/entries.js&#x27;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> NonSesitiveDiaryEntry<span class="token punctuation">,</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span>

<span class="token keyword">const</span> getEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> DiaryEntry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> diaries
<span class="token punctuation">}</span> 

<span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> NonSesitiveDiaryEntry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> diaries
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">addDiaryEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span> 

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  getNonSensitiveEntries<span class="token punctuation">,</span>
  addDiaryEntry
<span class="token punctuation">}</span></code></pre></div>
<p>One thing causes us a bit of concern. In there function <em>getNonSensitiveEntries</em> we are returning the complete entries of diaries and <i>no error is given</i> despite typing!</p>
<p>This is because TypeScript can only check whether we have all the wanted fields or not, but excess fields are not prohibited. In our case it means that it is <i>not prohibited</i> to return the DiaryEntry[] type object, but if we were to try to get a hold of the field <i>comment</i> where the diary is returned, it would not be restricted since it would be pointing to a field that TypeScript is unaware of even though it exists.</p>
<p>Unfortunately this can lead to unwanted behaviour if you are not aware of what you are doing; this situation is valid in terms of TypeScript but is most likely allowing use that is not wanted. If we now return all of the diaryEntries from the function <em>getNonSensitiveEntries</em> as they are to <i>frontend</i>, we are actually leaking the unwanted fields for the requesting browser even though our types imply otherwise!</p>
<p>Because TypeScript doesn&#x27;t modify the actual data but only types it, we need to implement the exclusion of the fields:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> diaries <span class="token keyword">from</span> <span class="token string">&#x27;../../data/entries.js&#x27;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> NonSesitiveDiaryEntry<span class="token punctuation">,</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span>

<span class="token keyword">const</span> getEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> DiaryEntry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> diaries
<span class="token punctuation">}</span> 

<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> NonSesitiveDiaryEntry <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">return</span> diaries<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token punctuation">,</span> date<span class="token punctuation">,</span> weather<span class="token punctuation">,</span> visibility <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    id<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    date<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    weather<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    visibility<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line"><span class="token punctuation">}</span></span>
<span class="token keyword">const</span> <span class="token function-variable function">addDiaryEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span> 

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  getNonSensitiveEntries<span class="token punctuation">,</span>
  addDiaryEntry
<span class="token punctuation">}</span></code></pre></div>
<p>If we were to try returning this data with the basic <em>DiaryEntry</em> type, that is, if we would type the function as follows</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> getNonSensitiveEntries <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> DiaryEntry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></code></pre></div>
<p>we would get the following error:</p>
<picture><img alt="fullstack content" src="/static/99355b781944f71125e24034c759256f/14be6/22a.png"/></picture>
<p>Utility types includes a large set of handy tools and it is definitely worthwhile to take some time studying <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html">their documentation</a>.</p>
<p>Finally we can complete the route that shows all diery entries:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> diaryService <span class="token keyword">from</span> <span class="token string">&#x27;../services/diaryService&#x27;</span></span>
<span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>diaryService<span class="token punctuation">.</span><span class="token function">getNonSensitiveEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;Saving a diary!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span></code></pre></div>
<p>The response looks like as we expect</p>
<picture><img alt="fullstack content" src="/static/2874edda399d6b828630de1496dbc188/14be6/26.png"/></picture>
</div></div>
<div class="banner spacing spacing--after tasks"><div class="container"><div class="course-content col-6 push-right-3" style="background-color:transparent">
<h3>Exercises 9.12.-9.13.</h3>
<p>Simillarly to Ilari&#x27;s flight service, we do not use a real database in our app but instead use hardcoded data, that is in the files <a href="https://github.com/fullstack-hy2020/misc/blob/master/diagnoses.json">diagnoses.json</a> and <a href="https://github.com/fullstack-hy2020/misc/blob/master/patientdata.json">patientdata.json</a>. Download the files and store those into a folder called <em>data</em>. All data modification can be done in runtime memory, so during this part it is <i>not necessary to write to a file</i>.</p>
<h4>9.12: Diagnoses backend, step3</h4>
<p>Create a type <em>Diagnose</em> and use it to create endpoint <em>/api/diagnoses</em> for fetching all diagnoses with HTTP GET.</p>
<p>Structure your code properly by using meaninfully named directories and files.</p>
<p><strong>Note</strong> that <em>diagnoses</em> may or may not contain the field <em>latin</em>. You might want to use <a href="https://www.typescriptlang.org/docs/handbook/interfaces.html#optional-properties">optional properties</a> in the type definition.</p>
<h4>9.13: Diagnoses backend, step4</h4>
<p>Create data type <em>Patient</em> and set up a GET-endpoint <em>/api/patients</em> that returns all patients to the frontend excluding field <em>ssn</em>. Use a <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html">utility type</a> to make sure you are selecting and returning only the wanted.</p>
<p>Try the endpoint with browser and make sure that <em>ssn</em> is not included in response.</p>
<p>After creating the endpoint, ensure that the <i>frontend</i> shows the list of patients.</p>
</div></div></div>
<div class="container"><div class="course-content col-6 push-right-3">
<h3>Preventing an accidental undefined result</h3>
<p>Let us expand the backend to support fetching one specific entry with a HTTP GET request to route <em>/api/diaries/:id</em> e</p>
<p>The DiaryService needs to be extended with  <em>findById</em>-function:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> findById <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> DiaryEntry <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> entry <span class="token operator">=</span> diaries<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>d <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">return</span> entry<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line"><span class="token punctuation">}</span></span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  getEntries<span class="token punctuation">,</span>
  getNonSensitiveEntries<span class="token punctuation">,</span>
  addDiaryEntry<span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">  findById</span><span class="token punctuation">}</span></code></pre></div>
<p>But once again, a new problem comes to light:</p>
<picture><img alt="fullstack content" src="/static/ffec5cdfddb4a1c59d7cab5702849a32/14be6/23e.png"/></picture>
<p>The thing with this request is that it can also return undefined - there is no absolute guarantee that an entry with the specific id can be found. This is a great thing to come up, since without TypeScript there would be no indication of this possibility and in the worst case you might end up returning a result of an <em>undefined</em> object instead of informing of a not found situation in a reasonable way.</p>
<p>In cases like this we first of all need to decide what is the desired return value if an object is not found, and how to handle the case. The value <em>undefined</em> that is returned by <em>find</em>-method of an array is fine for us if a result is not found so we could solve our problem by typing the return value as follows</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> findById <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> DiaryEntry <span class="token operator">|</span> undefined <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>  <span class="token keyword">const</span> entry <span class="token operator">=</span> diaries<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>d <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> entry<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The route handler is the following</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> diaryService <span class="token keyword">from</span> <span class="token string">&#x27;../services/diaryService&#x27;</span>

router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> diary <span class="token operator">=</span> diaryService<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>diary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>diary<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span></code></pre></div>
<h3>Adding a new diary</h3>
<p>Let&#x27;s start building the <em>post</em> endpoint for adding flight diary entries. The accepted values should confirm to the example data.</p>
<p>The code handling the response looks as follows</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> date<span class="token punctuation">,</span> weather<span class="token punctuation">,</span> visibility<span class="token punctuation">,</span> comment <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
  <span class="token keyword">const</span> newDiaryEntry <span class="token operator">=</span> diaryService<span class="token punctuation">.</span><span class="token function">addDiaryEntry</span><span class="token punctuation">(</span>
    date<span class="token punctuation">,</span>
    weather<span class="token punctuation">,</span>
    visibility<span class="token punctuation">,</span>
    comment<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>newDiaryEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>corresponding method in <em>diaryService</em> looks like this</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> addDiaryEntry <span class="token operator">=</span> <span class="token punctuation">(</span>
    date<span class="token punctuation">:</span> string<span class="token punctuation">,</span> weather<span class="token punctuation">:</span> Weather<span class="token punctuation">,</span> visibility<span class="token punctuation">:</span> Visibility<span class="token punctuation">,</span> comment<span class="token punctuation">:</span> string
  <span class="token punctuation">)</span><span class="token punctuation">:</span> DiaryEntry <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    
  <span class="token keyword">const</span> newDiaryEntry <span class="token operator">=</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>diaries<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>d <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    date<span class="token punctuation">,</span>
    weather<span class="token punctuation">,</span>
    visibility<span class="token punctuation">,</span>
    comment<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
  
  diaries<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newDiaryEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> newDiaryEntry<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>As we can see the <em>addDiaryEntry</em> function is growing to be pretty hard to read, when having all the fields as separate parameters. It might be better to just send the data as an object to the function:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> date<span class="token punctuation">,</span> weather<span class="token punctuation">,</span> visibility<span class="token punctuation">,</span> comment <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> newDiaryEntry <span class="token operator">=</span> diaryService<span class="token punctuation">.</span><span class="token function">addDiaryEntry</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>    date<span class="token punctuation">,</span>
    weather<span class="token punctuation">,</span>
    visibility<span class="token punctuation">,</span>
    comment<span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>newDiaryEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>But wait, what is the type of this object? It is not exactly a DiaryEntry, since it is still missign the <em>id</em> field. It could be useful for us just to create a new type <em>NewDiaryEntry</em> which could work as a type for the not-yet saved Entry-object. Let us create the new type in our <em>types.ts</em>-file using the existing <em>DiaryEntry</em> object with the <em>Omit</em> utility type:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type NewDiaryEntry <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>DiaryEntry<span class="token punctuation">,</span> <span class="token string">&#x27;id&#x27;</span><span class="token operator">&gt;</span></code></pre></div>
<p>And now we can use this type in our DiaryService and we can just destructure the whole new entry object when creating the entry to be saved: </p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> NewDiaryEntry<span class="token punctuation">,</span> NonSesitiveDiaryEntry<span class="token punctuation">,</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span></span>
<span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> addDiaryEntry <span class="token operator">=</span> <span class="token punctuation">(</span> entry <span class="token punctuation">:</span> NewDiaryEntry <span class="token punctuation">)</span><span class="token punctuation">:</span> DiaryEntry <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>  <span class="token keyword">const</span> newDiaryEntry <span class="token operator">=</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>diaries<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>d <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">    <span class="token operator">...</span>entry</span>  <span class="token punctuation">}</span>
  
  diaries<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newDiaryEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> newDiaryEntry<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Now the code looks much cleaner! </p>
<p>In order to parse the incoming data we must have the  <em>json</em> middleware configured:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&#x27;express&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> diaryRouter <span class="token keyword">from</span> <span class="token string">&#x27;./routes/diaries&#x27;</span><span class="token punctuation">;</span> 
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/diaries&#x27;</span><span class="token punctuation">,</span> diaryRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Server running on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>and now the application is ready to receive HTTP POST requests for adding diaries with the desired fields!</p>
<h3>Proofing your requests</h3>
<p>There are a plenty of things that can go wrong when accepting data from an outside source. Applications work rarely fully on their own and we are forced to live with the fact that data sources outside of a single system cannot be fully trusted. When the data is coming from an outside source, there&#x27;s no way that it can be already typed when we receive it so we need to make decision on how to handle the uncertainty that comes with the data.</p>
<p>The way express handles parsing the request body is that it asserts the type <a href="http://www.typescriptlang.org/docs/handbook/basic-types.html#any">any</a> to all the body fields. In our situation this doesn&#x27;t come apparent in any way in the editor, but if we start looking at the variables more closely and hover on any of them, we can see that each of them is <a href="http://www.typescriptlang.org/docs/handbook/basic-types.html#any">any</a> and the editor doesn&#x27;t complain when giving them to <em>addDiaryEntry</em> as arguments: </p>
<picture><img alt="fullstack content" src="/static/991e3e29e34d9f6956d04d862f5b78f6/14be6/27.png"/></picture>
<p>The value of type <a href="http://www.typescriptlang.org/docs/handbook/basic-types.html#an">any</a> can be assigned to <i>any</i> type of variable since it <i>might be</i> the wanted type. This is definitiely not safe to trust so
check the incoming values (regardless whether we are using TypeScript or not).</p>
<p>We could just add simple <i>exists</i> and <i>is-value-valid</i> checks to the function defining the route but since we also need to ensure that <em>Weather</em> and <em>Visibility</em> values are of the correct form, it is better to write the put the parsing and validation logic to a separate file <em>utils.ts</em>.</p>
<p>Our intention is to define a function <em>toNewDiaryEntry</em> that gets the request body as a parameter and returns a properly typed <em>NewDiaryEntry</em>. Route definition uses the function as follows</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="gatsby-highlight-code-line"><span class="token keyword">import</span> toNewDiaryEntry <span class="token keyword">from</span> <span class="token string">&#x27;../utils&#x27;</span></span>
<span class="token comment">// ...</span>

router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> newDiaryEntry <span class="token operator">=</span> <span class="token function">toNewDiaryEntry</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span></span>      
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> addedEntry <span class="token operator">=</span> diaryService<span class="token punctuation">.</span><span class="token function">addDiaryEntry</span><span class="token punctuation">(</span>newDiaryEntry<span class="token punctuation">)</span><span class="token punctuation">;</span></span>    res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>addedEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Since we are now making trustworthy code and trying to make sure that we are getting exactly what we want from the requests we should get started with the goal of parsing and validating each field we are waiting for. </p>
<p>The skeleton of the function <em>addDiaryEntry</em> looks like the following:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> NewDiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./types&#x27;</span>

<span class="token keyword">const</span> toNewDiaryEntry <span class="token operator">=</span> <span class="token punctuation">(</span>object<span class="token punctuation">)</span> <span class="token punctuation">:</span> NewDiaryEntry <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> newEntry<span class="token punctuation">:</span> NewDiaryEntry <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> newEntry
<span class="token punctuation">}</span> 

<span class="token keyword">export</span> <span class="token keyword">default</span> toNewDiaryEntry<span class="token punctuation">;</span></code></pre></div>
<p>In the function we want to parse the each field and make sure that what we is returned is exactly the type <em>NewDiaryEntry</em>. Thus we should check each field separately. </p>
<p>Once again we have a typing issue: what is the <em>object</em> type? Since the <em>object</em> is in fact the body of a request, express has typed it with <em>any</em>. Since within this file the whole idea is to map unknown types of fields to correct ones and check whether they are defined as expected, this might be the rare case where we actually <i>want to allow the <em>any</em> type</i>. </p>
<p>However if we type the object to <em>any</em>, eslint gives us a complaint:</p>
<picture><img alt="fullstack content" src="/static/3fe6ce7c383db627063b023872c7e86b/14be6/24e.png"/></picture>
<p>The cause for the complaint is eslit-rule <a href="https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/docs/rules/no-explicit-any.md">no-explicit-any</a> that prevents us form explicitly setting type to be any. Since this is in general a good rule to follow but just in this particular file undesired, it is better to allow using any now by disabling the eslint-rule in the file. This happens by adding the following line at the file:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token comment">/* eslint-disable @typescript-eslint/no-explicit-any */</span></code></pre></div>
<p>Let us start creating the parsers for each of the fields of <em>object</em>.</p>
<p>To validate the <em>comment</em> field we need to check that it exists, and to ensure that it is of the type <em>string</em>.</p>
<p>The function should look something like this:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> parseComment <span class="token operator">=</span> <span class="token punctuation">(</span>comment<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>comment <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isValidString</span><span class="token punctuation">(</span>comment<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Incorrect or missing comment: &#x27;</span> <span class="token operator">+</span> comment<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> comment
<span class="token punctuation">}</span></code></pre></div>
<p>Function gets the parameter of the type <em>any</em> type and returns it as type <em>string</em> if it exists and is of the right type.</p>
<p>The string validation function looks like this</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>text<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> text is string <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> text <span class="token operator">===</span> <span class="token string">&#x27;string&#x27;</span> <span class="token operator">||</span> text <span class="token keyword">instanceof</span> <span class="token class-name">String</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The function is so called <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards">type guard</a>, that is, a function that is returning a boolean <i>and</i> which has a <i>type predicate</i> as the return type. In our case the type predicate is</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">text is string</code></pre></div>
<p>The general form of a type predicate is <em>parameterName is Type</em> where the <em>parameterName</em> is the name of the function parameter and <em>Type</em> is the targetted type.</p>
<p>If the type guard function returns true, the TypeScript compiler knows that the tested variable has the type that was defined in the type predicate. </p>
<p>Before the type guard is called, the actual type of the variable <em>comment</em> is not known:</p>
<picture><img alt="fullstack content" src="/static/3db4e2a6092268e6df2afea9e1e2ec4a/14be6/28.png"/></picture>
<p>But after the call, if the code proceeds past the exception (that is the type guard returned true), compiler knows that <em>comment</em> is of the type <em>string</em>:</p>
<picture><img alt="fullstack content" src="/static/41dca0199b104245c6d764a59c175fb7/14be6/29.png"/></picture>
<p>Why do we have two conditions in the string type guard:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>text<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> text is string <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">return</span> <span class="token keyword">typeof</span> text <span class="token operator">===</span> <span class="token string">&#x27;string&#x27;</span> <span class="token operator">||</span> text <span class="token keyword">instanceof</span> <span class="token class-name">String</span></span><span class="token punctuation">}</span></code></pre></div>
<p>would it not be enought to write the guard like this</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>text<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> text is string <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> text <span class="token operator">===</span> <span class="token string">&#x27;string&#x27;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The more simple form is most likely good for all practical purposes. However if we want to be absolutely sure, both the conditions are needed, since there is two different means to create string objects in JavaScript and both of these work a bit differently with respect to operators <em>typeof</em> and <em>instanceof</em>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">&quot;I&#x27;m a string primitive&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;I&#x27;m a String Object&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> a<span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">&gt;</span> returns <span class="token string">&#x27;string&#x27;</span>
<span class="token keyword">typeof</span> b<span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">&gt;</span> returns <span class="token string">&#x27;object&#x27;</span>
a <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">&gt;</span> returns <span class="token boolean">false</span>
b <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">&gt;</span> returns <span class="token boolean">true</span></code></pre></div>
<p>It is however unlikely that anybody creates strings with a constructor function, so most likely the simpler version of the type guard would be just fine. </p>
<p>Next let us consider the field <em>date</em>. Parsing and validating the date object is pretty similar, since TypeScript doesn&#x27;t really know a type for date, we need to treat it as as <em>string</em>. We still definitely should use JavaScript level validation to check whether the date format is acceptable. </p>
<p>We will add the following functions</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isDate <span class="token operator">=</span> <span class="token punctuation">(</span>date<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> boolean <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> parseDate <span class="token operator">=</span> <span class="token punctuation">(</span>date<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>date <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isString</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isDate</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Incorrect or missing date: &#x27;</span> <span class="token operator">+</span> date<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> date<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Nothing really special here, only thing is that we can&#x27;t use a type guard since a date is in this case considered only a <em>string</em>. Notice that even though the <em>date</em> variable is accepted as <em>any</em> by the <em>parseDate</em> function, after checking the type with <em>isdString</em> the type is already a string which is why we are able to give the variable to the function <em>isDate</em> with the type <em>string</em> without any errors.</p>
<p>Finally we are ready to move on to the last two types, Weather and Visibility.</p>
<p>We would like the validation and parsing to work as follows:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> parseWeather <span class="token operator">=</span> <span class="token punctuation">(</span>weather<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> Weather <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>weather <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isString</span><span class="token punctuation">(</span>weather<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isWeather</span><span class="token punctuation">(</span>weather<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Incorrect or missing weather: &#x27;</span> <span class="token operator">+</span> weather<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> 
  <span class="token keyword">return</span> weather<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The question now is, how can we validate that the string is of a specific form? One possible way of writing the type guard would be following:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isWeather <span class="token operator">=</span> <span class="token punctuation">(</span>str<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> str is Weather <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">&#x27;sunny&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;rainy&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;cloudy&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;stormy&#x27;</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This would work just fine but the problem is that list of possible weathers does not necessarily stay in sync with the type definition if that is altered. This is most certainly not a nice thing since we would like to have just a single source for all possible weather types.</p>
<p>A better solution in this case is to improve the actual Weather type and instead of type declaration use the TypeScript <a href="https://www.typescriptlang.org/docs/handbook/enums.html">enum</a> which allows us to use the actual values in the running code, not only in the compilation phase.</p>
<p>Let us redefine the type <em>Weather</em> as follows: </p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">enum</span> Weather <span class="token punctuation">{</span>
  Sunny <span class="token operator">=</span> <span class="token string">&#x27;sunny&#x27;</span><span class="token punctuation">,</span>
  Rainy <span class="token operator">=</span> <span class="token string">&#x27;rainy&#x27;</span><span class="token punctuation">,</span>
  Cloudy <span class="token operator">=</span> <span class="token string">&#x27;cloudy&#x27;</span><span class="token punctuation">,</span>
  Stormy <span class="token operator">=</span> <span class="token string">&#x27;stormy&#x27;</span><span class="token punctuation">,</span> 
  Windy <span class="token operator">=</span> <span class="token string">&#x27;windy&#x27;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This allows us to check that a string confirms to the accepted values of the Weather enum type and the type guard can be changed to following</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> isWeather <span class="token operator">=</span> <span class="token punctuation">(</span>param<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> param is Weather <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>Weather<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>One thing to notice here is that we have changed the parameter type to <em>any</em>, if it would be string, the <em>includes</em> check would not compile. The change makes sense also if you think about the reusability of the function, by allowing <em>any</em> as a parameter, we can use the function with confidence knowing that whatever we might feed to it, the function answers always to the question of whether the variable is a valid weather or not. </p>
<p>The function <em>parseWeather</em> can be simplified a bit</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> parseWeather <span class="token operator">=</span> <span class="token punctuation">(</span>weather<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> Weather <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>weather <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isString</span><span class="token punctuation">(</span>weather<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isWeather</span><span class="token punctuation">(</span>weather<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Incorrect or missing weather: &#x27;</span> <span class="token operator">+</span> weather<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> 
  <span class="token keyword">return</span> weather<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>With these changes, one issue arises, our data does not conform anymore to our types:</p>
<picture><img alt="fullstack content" src="/static/2d23be7abdebf83abf928340dce1d30c/14be6/30.png"/></picture>
<p>This is because a string can&#x27;t be just assumed to be an enum. </p>
<p>The fix is to map the initial data elements to <em>DiaryEntry</em> type with the <em>toNewDiaryEntry</em> function:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> DiaryEntry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../src/types&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toNewDiaryEntry <span class="token keyword">from</span> <span class="token string">&quot;../src/utils&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
      <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">&quot;date&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;2017-01-01&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;weather&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;rainy&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;visibility&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;poor&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;comment&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Pretty scary flight, I&#x27;m glad I&#x27;m alive&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> diaryEntries<span class="token punctuation">:</span> DiaryEntry <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>obj <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> object <span class="token operator">=</span> <span class="token function">toNewDiaryEntry</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token keyword">as</span> DiaryEntry
  object<span class="token punctuation">.</span>id <span class="token operator">=</span> obj<span class="token punctuation">.</span>id
  <span class="token keyword">return</span> object
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> diaryEntries</code></pre></div>
<p>Note that since <em>toNewDiaryEntry</em> returns object of the type <em>NewDiaryEntry</em> we need to assert it to be <em>DiaryEntry</em> with <a href="http://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions">as</a> opeator.</p>
<p>Enums are usually used when there is a set of predetermined values that are not expected to change in the future. Usually enums are used in much tighter unchanging values (for example weekdays, months, directions) but since they offer us a great way to validate our incoming values we might as well use them in our case. </p>
<p>After giving <em>Visibility</em> the same treatment our app is finally ready!</p>
</div></div>
<div class="banner spacing spacing--after tasks"><div class="container"><div class="course-content col-6 push-right-3" style="background-color:transparent">
<h3>Exercises 9.14.-9.15.</h3>
<h4>9.14: Diagnoses backend, step5</h4>
<p>Create a POST-endpoint <em>/api/patients</em> for adding patients. Ensure that you can add patients also from the frontend.</p>
<h4>9.15: Diagnoses backend, step6</h4>
<p>Set up safe parsing, validation and type guards to the POST <em>/api/patients</em>request. </p>
<p>Refactor the <em>Gender</em> field to use a <em>enum</em> type.</p>
</div></div></div></div><div class="container spacing element--flex element--centered"><a class="edit-link" target="__BLANK" href="https://github.com/fullstack-hy2020/fullstack-hy2020.github.io/edit/source/src/content/9/en/part9c.md"><span>Propose changes to material</span></a></div><div class="container spacing spacing--after-large prev-next__container "><a class="col-4--mobile push-right-1 prev" href="/en/part9/first_steps_with_typescript"><div class=" element--flex element--column"><p>Part<!-- --> <!-- -->9b</p><b>Previous part</b></div></a><div class="col-1--mobile separator"></div><a class="col-4--mobile push-left-1 next" href="/en/part9/react_with_types"><div class=" element--flex element--column"><p>Part<!-- --> <!-- -->9d</p><b>Next part</b></div></a></div></div><div class="container spacing--after-small spacing--mobile element--flex" id="footer"><div class="col-5 push-right-3 col-10--mobile order-2--mobile order-2--tablet footer__links element--flex element--space-between"><a href="https://www.helsinki.fi/" class="col-5 col-4--mobile spacing--mobile"><div class="image col-6 image--contain"><div class="image__container"><img style="background-color:;background-opacity:0.5" class="image__content" src="/static/uoh_centre-3689cf9983a2ebc8089c8f078a9c4769.svg" alt="Helsingin yliopiston logo"/></div></div></a><a href="https://www.houston-inc.com/" class="col-5 col-4--mobile spacing--mobile"><div class="image col-6 image--contain"><div class="image__container"><img style="background-color:;background-opacity:0.5" class="image__content" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjQ3cHgiIGhlaWdodD0iODJweCIgdmlld0JveD0iMCAwIDI0NyA4MiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPgogICAgPHRpdGxlPmxvZ28vaG91c3RvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxwb2x5Z29uIGlkPSJwYXRoLTEiIHBvaW50cz0iMCAwLjAyNjcxOTI2NzMgMTM4LjIwODE2NyAwLjAyNjcxOTI2NzMgMTM4LjIwODE2NyAzNi40NjU0MzgxIDAgMzYuNDY1NDM4MSI+PC9wb2x5Z29uPgogICAgPC9kZWZzPgogICAgPGcgaWQ9ImxvZ28vaG91c3RvbiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImhvdXN0b25fc2ltcGxlLmVwcy1jb3B5LTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU0LjU4MTg5MywgMjMuMjYzMDQwKSI+CiAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTIiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgPGcgaWQ9IkNsaXAtMiI+PC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNODIuODA1MTI5OCwxMy41MDY2NjAzIEw4Mi44MDUxMjk4LDI1LjUzNjU1MDkgTDg1Ljk5MzYyOSwyNS41MzY1NTA5IEw4NS45OTM2MjksMTMuNTA2NjYwMyBMOTAuNDA2NTQ5MywxMy41MDY2NjAzIEw5MC40MDY1NDkzLDEwLjQ0NTY3ODQgTDc4LjM3NTEwMzYsMTAuNDQ1Njc4NCBMNzguMzc1MTAzNiwxMy41MDY2NjAzIEw4Mi44MDUxMjk4LDEzLjUwNjY2MDMgWiBNOTYuNDkxMDQ5NSwxNy45NjM2ODg1IEM5Ni40OTEwNDk1LDIwLjU1OTU1NzIgOTguMzE3ODU1NywyMi43MDc5ODQyIDEwMC44ODYxNTcsMjIuNzA3OTg0MiBDMTAzLjQ1NDg4MiwyMi43MDc5ODQyIDEwNS4yNDcxOTQsMjAuNTk1NDY1NyAxMDUuMjQ3MTk0LDE4LjAxNzk3NTMgTDEwNS4yNDcxOTQsMTguMDAwMDIxMSBDMTA1LjI0NzE5NCwxNS40MDQyOTM3IDEwMy40MjA1MjksMTMuMjU1ODY2NyAxMDAuODUyMjI4LDEzLjI1NTg2NjcgQzk4LjI4MzUwMjMsMTMuMjU1ODY2NyA5Ni40OTEwNDk1LDE1LjM2ODM4NTMgOTYuNDkxMDQ5NSwxNy45NDU3MzQzIEw5Ni40OTEwNDk1LDE3Ljk2MzY4ODUgWiBNOTMuMTQ3MDQxMywxOC4wMTc5NzUzIEw5My4xNDcwNDEzLDE3Ljk4MjA2NjkgQzkzLjE0NzA0MTMsMTMuNjg1NDk1NiA5Ni40MDQ4MTI3LDEwLjE3NjkzMDYgMTAwLjg4NjE1NywxMC4xNzY5MzA2IEMxMDUuMzY3OTI1LDEwLjE3NjkzMDYgMTA4LjU5MTM0MywxMy42NDk3Mjg1IDEwOC41OTEzNDMsMTcuOTQ1NzM0MyBMMTA4LjU5MTM0MywxNy45NjM2ODg1IEMxMDguNTkxMzQzLDIyLjI2MDI1OTggMTA1LjMzMzU3MiwyNS43Njg4MjQ3IDEwMC44NTIyMjgsMjUuNzY4ODI0NyBDOTYuMzcwMzE4LDI1Ljc2ODgyNDcgOTMuMTQ3MDQxMywyMi4zMTQxMjI0IDkzLjE0NzA0MTMsMTguMDE3OTc1MyBMOTMuMTQ3MDQxMywxOC4wMTc5NzUzIFogTTcwLjQxMTkxMzcsMjIuNzk3MDQ4NSBDNjguNzU2ODc0MiwyMi43OTcwNDg1IDY3LjM3ODIxNjYsMjIuMDgxMjgzMSA2Ni4wNjg0MDcsMjAuOTcxNzk3NCBMNjQuMTcyMTg3MiwyMy4zMTY0NDg0IEM2NS45MTMxODA4LDI0LjkyNzk0NTQgNjguMTM2Njc2MiwyNS43MzMzNDA0IDcwLjM0MzA2NTYsMjUuNzMzMzQwNCBDNzMuNDgwMTA1NSwyNS43MzMzNDA0IDc1LjY2OTI0NzYsMjQuMDUwMTY4IDc1LjY2OTI0NzYsMjEuMDYxMDAzIEw3NS42NjkyNDc2LDIxLjAyNTA5NDUgQzc1LjcyMTEzMSwxOC4zOTM0NTg4IDc0LjA0ODU2MTUsMTcuMzAxNzg1OCA3MS4xMDExMDExLDE2LjQ5NTgyNTMgQzY4LjU4NDY4MzQsMTUuODMzOTIyNiA2Ny45NjM5MTk5LDE1LjUxMTMxMjIgNjcuOTYzOTE5OSwxNC41MDg5ODYyIEw2Ny45NjM5MTk5LDE0LjQ3MzA3NzggQzY3Ljk2MzkxOTksMTMuNzM4OTM0MSA2OC42MDIyMTM1LDEzLjE2NjY2MTEgNjkuODI1NjQ0OSwxMy4xNjY2NjExIEM3MS4wNDk2NDE4LDEzLjE2NjY2MTEgNzIuMzA3OTkyMSwxMy43MjA5Nzk5IDczLjYwMDgzNywxNC42NTIwNTQ1IEw3NS4yNTU1OTM4LDEyLjE0NTk1NjkgQzczLjc4OTk5MjUsMTAuOTEwNjUwMiA3MS45ODA3MTY0LDEwLjIzMDM2OTIgNjkuODYwNTYzNywxMC4yMzAzNjkyIEM2Ni44OTU3MTQ3LDEwLjIzMDM2OTIgNjQuNzc1NTYyLDEyLjAzODY1NTcgNjQuNzc1NTYyLDE0Ljc3NzU5MjYgTDY0Ljc3NTU2MiwxNC44MTMwNzY5IEM2NC43NzU1NjIsMTcuODAyNjY2MSA2Ni42NzEwNzQ5LDE4LjY0NDUzNSA2OS41ODQxODE5LDE5LjQzMjExNzMgQzcyLjAxNDY0NTYsMjAuMDc2NjMxMiA3Mi41MTQ2Nzc2LDIwLjUwNjI2MDEgNzIuNTE0Njc3NiwyMS4zNDc3MDQ5IEw3Mi41MTQ2Nzc2LDIxLjM4MzA0NzkgQzcyLjUxNDY3NzYsMjIuMjYwMjU5OCA3MS43MjIyODg4LDIyLjc5NzA0ODUgNzAuNDExOTEzNywyMi43OTcwNDg1IEw3MC40MTE5MTM3LDIyLjc5NzA0ODUgWiBNMzEuMzM2NDY5NywxNy45NjM2ODg1IEMzMS4zMzY0Njk3LDIwLjU1OTU1NzIgMzMuMTYzNywyMi43MDc5ODQyIDM1LjczMTg1OTksMjIuNzA3OTg0MiBDMzguMzAwMTYxMSwyMi43MDc5ODQyIDQwLjA5MjQ3MjYsMjAuNTk1NDY1NyA0MC4wOTI0NzI2LDE4LjAxNzk3NTMgTDQwLjA5MjQ3MjYsMTguMDAwMDIxMSBDNDAuMDkyNDcyNiwxNS40MDQyOTM3IDM4LjI2NTI0MjMsMTMuMjU1ODY2NyAzNS42OTY5NDEsMTMuMjU1ODY2NyBDMzMuMTI5MjA1MywxMy4yNTU4NjY3IDMxLjMzNjQ2OTcsMTUuMzY4Mzg1MyAzMS4zMzY0Njk3LDE3Ljk0NTczNDMgTDMxLjMzNjQ2OTcsMTcuOTYzNjg4NSBaIE0yOC4wMDk3MDg5LDE4LjAxNzk3NTMgTDI4LjAwOTcwODksMTcuOTgyMDY2OSBDMjguMDA5NzA4OSwxMy42ODU0OTU2IDMxLjI2NzQ4MDMsMTAuMTc2OTMwNiAzNS43NDg4MjQ1LDEwLjE3NjkzMDYgQzQwLjIzMDczNDIsMTAuMTc2OTMwNiA0My40MzYxOTgsMTMuNjQ5NzI4NSA0My40NTQwMTA5LDE3Ljk0NTczNDMgTDQzLjQ1NDAxMDksMTcuOTYzNjg4NSBDNDMuNDU0MDEwOSwyMi4yNjAyNTk4IDQwLjE5NjIzOTUsMjUuNzY4ODI0NyAzNS43MTQ4OTUzLDI1Ljc2ODgyNDcgQzMxLjIzMjU2MTUsMjUuNzY4ODI0NyAyOC4wMDk3MDg5LDIyLjMxNDEyMjQgMjguMDA5NzA4OSwxOC4wMTc5NzUzIEwyOC4wMDk3MDg5LDE4LjAxNzk3NTMgWiBNNTMuODMwNDE3MSwyNS43MzMzNDA0IEM1Ny43NDI4ODEyLDI1LjczMzM0MDQgNjAuMjA3ODM5NywyMy40OTU4NDkyIDYwLjIwNzgzOTcsMTguOTMwNjcxNSBMNjAuMjA3ODM5NywxMC40MjcxNTg3IEw1Ny4wMDE4MTAzLDEwLjQyNzE1ODcgTDU3LjAwMTgxMDMsMTkuMDczNzM5OCBDNTcuMDAxODEwMywyMS40NzI2Nzc2IDU1LjgxMjMwODEsMjIuNjkwMDMgNTMuODY0NzcwNCwyMi42OTAwMyBDNTEuOTE3Mzc0MSwyMi42OTAwMyA1MC43Mjc3MzA1LDIxLjQxODk1NjMgNTAuNzI3NzMwNSwxOC45NjY1OCBMNTAuNzI3NzMwNSwxMC40MjcxNTg3IEw0Ny41Mzg2NjU4LDEwLjQyNzE1ODcgTDQ3LjUzODY2NTgsMTkuMDM3ODMxMyBDNDcuNTM4NjY1OCwyMy40Nzc4OTUgNDkuOTE3OTUzLDI1LjczMzM0MDQgNTMuODMwNDE3MSwyNS43MzMzNDA0IEw1My44MzA0MTcxLDI1LjczMzM0MDQgWiBNMy4xNTQ1NywzMy4xOTgxOTQ4IEwxMzUuMDM2NjMyLDMzLjE5ODE5NDggTDEzNS4wMzY2MzIsMy4zMDI0NDQ4OCBMMy4xNTQ1NywzLjMwMjQ0NDg4IEwzLjE1NDU3LDMzLjE5ODE5NDggWiBNMCwzNi40NzM5MjA0IEwxMzguMjA4MTY3LDM2LjQ3MzkyMDQgTDEzOC4yMDgxNjcsMC4wMjY3MTkyNjczIEwwLDAuMDI2NzE5MjY3MyBMMCwzNi40NzM5MjA0IFogTTE0LjgyMzExNDMsMTkuNDg1NDE0NCBMMjAuNzE4NjAwNSwxOS40ODU0MTQ0IEwyMC43MTg2MDA1LDI1LjUzNjU1MDkgTDIzLjkwNzY2NTIsMjUuNTM2NTUwOSBMMjMuOTA3NjY1MiwxMC40NDU2Nzg0IEwyMC43MTg2MDA1LDEwLjQ0NTY3ODQgTDIwLjcxODYwMDUsMTYuNDA2MDU0MiBMMTQuODIzMTE0MywxNi40MDYwNTQyIEwxNC44MjMxMTQzLDEwLjQ0NTY3ODQgTDExLjYzNDc1NjUsMTAuNDQ1Njc4NCBMMTEuNjM0NzU2NSwyNS41MzY1NTA5IEwxNC44MjMxMTQzLDI1LjUzNjU1MDkgTDE0LjgyMzExNDMsMTkuNDg1NDE0NCBaIE0xMTUuODY0OTIyLDE1Ljk0MTUwNjUgTDEyMi44OTc2MDIsMjUuNTM2NTUwOSBMMTI1LjYyMDk4OCwyNS41MzY1NTA5IEwxMjUuNjIwOTg4LDEwLjQ0NTY3ODQgTDEyMi40NjY0MTgsMTAuNDQ1Njc4NCBMMTIyLjQ2NjQxOCwxOS43MzYyMDggTDExNS42NTgzNzcsMTAuNDQ1Njc4NCBMMTEyLjcxMDkxNywxMC40NDU2Nzg0IEwxMTIuNzEwOTE3LDI1LjUzNjU1MDkgTDExNS44NjQ5MjIsMjUuNTM2NTUwOSBMMTE1Ljg2NDkyMiwxNS45NDE1MDY1IEwxMTUuODY0OTIyLDE1Ljk0MTUwNjUgWiIgaWQ9IkZpbGwtMSIgZmlsbD0iIzAwMDEwNSIgbWFzaz0idXJsKCNtYXNrLTIpIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=" alt="Houston inc. logo"/></div></div></a></div><div class="col-5 col-5--mobile order-1--mobile order-1--tablet footer__navigation element--flex"><div class="footer__navigation-link-container"><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/en/about">About course</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/en#course-contents">Course contents</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/en/faq">FAQ</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/en/companies">Partners</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/en/challenge">Challenge</a></div></div></div></div></div></div><script>
  
  
  if(!(navigator.doNotTrack == "1" || window.doNotTrack == "1")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-135975842-1', 'fullstackopen.com', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-content-template-js","jsonName":"en-part-9-typing-the-express-app-aa6","path":"/en/part9/typing_the_express_app"};window.dataPath="811/path---en-part-9-typing-the-express-app-aa-6-bc2-gxis1fJLHYhUxpUzkXsnjyt61oA";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app.f588656cc80a065e5f1e.css","/app-6e00846a49333a16c4de.js"],"component---src-templates-part-intro-template-js":["/component---src-templates-part-intro-template-js.8d664019b0db737497c8.css","/component---src-templates-part-intro-template-js-8fc6c33e30cacf977ee0.js"],"component---src-templates-content-template-js":["/component---src-templates-content-template-js.3d0afa7b42228b6a3eb1.css","/component---src-templates-content-template-js-a4a5f8b853cd87d353cd.js"],"component---src-pages-404-js":["/component---src-pages-404-js.6480c5a0a269a417cf42.css","/component---src-pages-404-js-d30a8e47da880c9299d8.js"],"component---src-pages-about-en-js":["/component---src-pages-about-en-js.2102f04cf7dbbee5f9a3.css","/component---src-pages-about-en-js-0fe1df221299d6914799.js"],"component---src-pages-about-js":["/component---src-pages-about-js.2102f04cf7dbbee5f9a3.css","/component---src-pages-about-js-56f830fbacbd85b6d06a.js"],"component---src-pages-challenge-en-js":["/component---src-pages-challenge-en-js.4803702b6ffa3c5a2fa0.css","/component---src-pages-challenge-en-js-118e0e223aa912c3b446.js"],"component---src-pages-challenge-js":["/component---src-pages-challenge-js.4803702b6ffa3c5a2fa0.css","/component---src-pages-challenge-js-1bbb1c05c4cea0c3b8af.js"],"component---src-pages-companies-en-js":["/component---src-pages-companies-en-js.9a96b07212cab2723d68.css","/component---src-pages-companies-en-js-a1e828be862d9073cbcb.js"],"component---src-pages-companies-js":["/component---src-pages-companies-js.9a96b07212cab2723d68.css","/component---src-pages-companies-js-ae8a1412805fc0eeecc4.js"],"component---src-pages-faq-en-js":["/component---src-pages-faq-en-js-64f8a4bd5b339fe802fc.js"],"component---src-pages-faq-js":["/component---src-pages-faq-js-0fb25b70ec864071f393.js"],"component---src-pages-index-en-js":["/component---src-pages-index-en-js.621afd82032206423c53.css","/component---src-pages-index-en-js-ea63cf9a7ec51ba44f05.js"],"component---src-pages-index-js":["/component---src-pages-index-js.621afd82032206423c53.css","/component---src-pages-index-js-7bb8ff7f938ee47e8031.js"]};/*]]>*/</script><script src="/webpack-runtime-37305715647998e87203.js" async=""></script><script src="/1-03d0504106761e292e10.js" async=""></script><script src="/3-ad64fb5c6efc391805fe.js" async=""></script><script src="/22-88a6b0f2723e2deb373a.js" async=""></script><script src="/0-011c3adc24a9ef2086ab.js" async=""></script><script src="/component---src-templates-content-template-js-a4a5f8b853cd87d353cd.js" async=""></script><script src="/app-6e00846a49333a16c4de.js" async=""></script></body></html>